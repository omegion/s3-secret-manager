import{c as s}from"./app.bc610295.js";import{_ as e}from"./plugin-vue_export-helper.21dcd24c.js";const a={},n=s(`<h1 id="quick-start" tabindex="-1"><a class="header-anchor" href="#quick-start" aria-hidden="true">#</a> Quick Start</h1><p>It is assumed that you have AWS S3 bucket is created also you have AWS credentials are set.</p><h2 id="set-secret" tabindex="-1"><a class="header-anchor" href="#set-secret" aria-hidden="true">#</a> Set Secret</h2><p>Let&#39;s create a secret into S3. You can either define environment variable <code>S3SM_BUCKET</code>, or set <code>--bucket</code> flag.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">export</span> <span class="token assign-left variable">S3SM_BUCKET</span><span class="token operator">=</span>my-s3-bucket
s3sm secret <span class="token builtin class-name">set</span> --name password --value MYSUPERSECRET --path  secret/database/my-db
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Output:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>Key       Value
----      ----
password  MYSUPERSECRET
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="get-secret" tabindex="-1"><a class="header-anchor" href="#get-secret" aria-hidden="true">#</a> Get Secret</h2><p>Once we put a secret to S3. Let&#39;s get it back.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">export</span> <span class="token assign-left variable">S3SM_BUCKET</span><span class="token operator">=</span>my-s3-bucket
s3sm secret get --path  secret/database/my-db
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Output:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>Key       Value
----      ----
<span class="token function">host</span>      example.com
password  MYSUPERSECRET
username  root
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>You can get only a field with <code>--field</code> flag.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">export</span> <span class="token assign-left variable">S3SM_BUCKET</span><span class="token operator">=</span>my-s3-bucket
s3sm secret get --field <span class="token function">host</span> --path  secret/database/my-db
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Output:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>example.com
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h2 id="list-secret" tabindex="-1"><a class="header-anchor" href="#list-secret" aria-hidden="true">#</a> List Secret</h2><p>You can list all secrets with given path.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">export</span> <span class="token assign-left variable">S3SM_BUCKET</span><span class="token operator">=</span>my-s3-bucket
s3sm secret list --path  secret
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Output:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>Secret                                Last Modified
----                                  ----
secret/aws/rds-1                      <span class="token number">2021</span>-12-27 <span class="token number">22</span>:19:48 +0000 UTC
secret/database/my-db                 <span class="token number">2021</span>-12-27 <span class="token number">22</span>:15:54 +0000 UTC
secret/github/token/read-only-access  <span class="token number">2021</span>-12-27 <span class="token number">22</span>:29:42 +0000 UTC
secret/github/token/write-read-access  <span class="token number">2021</span>-12-27 <span class="token number">22</span>:30:35 +0000 UTC
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>You can narrow down the secret list by defining specific path:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">export</span> <span class="token assign-left variable">S3SM_BUCKET</span><span class="token operator">=</span>my-s3-bucket
s3sm secret list --path  secret/github
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Output:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>Secret                                 Last Modified
----                                   ----
secret/github/token/read-only-access   <span class="token number">2021</span>-12-27 <span class="token number">22</span>:29:42 +0000 UTC
secret/github/token/write-read-access  <span class="token number">2021</span>-12-27 <span class="token number">22</span>:30:35 +0000 UTC
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="list-secret-versions" tabindex="-1"><a class="header-anchor" href="#list-secret-versions" aria-hidden="true">#</a> List Secret Versions</h2><p>You can list the version of the secret if you enabled the versioning of your bucket. Each change will create a version in the bucket that you can historically access them.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">export</span> <span class="token assign-left variable">S3SM_BUCKET</span><span class="token operator">=</span>my-s3-bucket
s3sm secret versions --path secret/github/token/read-only-access
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Output:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>Order  Version ID                        Last Modified
----   ----                              ----
<span class="token number">1</span>      1mAx5J0P90m0mfFo_BnS8k9MUAHnGR5F  <span class="token number">2021</span>-12-27 <span class="token number">22</span>:35:37 +0000 UTC
<span class="token number">2</span>      Qm.a5lfhayBPO.btC8hkGF26dCGxWwaw  <span class="token number">2021</span>-12-27 <span class="token number">22</span>:35:34 +0000 UTC
<span class="token number">3</span>      PUV4vNVKq2NtP8JQ27kBADJKe79xDBvK  <span class="token number">2021</span>-12-27 <span class="token number">22</span>:35:29 +0000 UTC
<span class="token number">4</span>      VzRM7.138B0gt_vEtt77ST40WVyWXPzP  <span class="token number">2021</span>-12-27 <span class="token number">22</span>:35:27 +0000 UTC
<span class="token number">5</span>      OkRfb88ojsm2b_WViVH8PedmxpE4LxYU  <span class="token number">2021</span>-12-27 <span class="token number">22</span>:29:42 +0000 UTC
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="get-secret-by-version" tabindex="-1"><a class="header-anchor" href="#get-secret-by-version" aria-hidden="true">#</a> Get Secret by Version</h2><p>Once bucket versioning enabled, every change will be stored in a version. You can get old secret values by <code>version-id</code>.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">export</span> <span class="token assign-left variable">S3SM_BUCKET</span><span class="token operator">=</span>my-s3-bucket
s3sm secret get --path secret/github/token/read-only-access --version-id <span class="token operator">&lt;</span>VERSION_ID<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Output:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>Key    Value
----   ----
token  MYSECRETTOKEN2
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div>`,35);function r(l,c){return n}var i=e(a,[["render",r]]);export{i as default};
